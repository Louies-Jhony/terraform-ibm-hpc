module "scale" {
  source                          = "./../.."
  scheduler                       = null
  ibm_customer_number             = var.ibm_customer_number
  zones                           = [var.zone]
  allowed_cidr                    = var.allowed_cidr
  prefix                          = local.env.prefix
  ssh_keys                        = local.env.ssh_keys
  resource_group                  = local.env.resource_group
  bastion_ssh_keys                = local.env.bastion_ssh_keys
  bastion_subnets_cidr            = [local.env.bastion_subnets_cidr]
  compute_gui_password            = local.env.compute_gui_password
  compute_gui_username            = local.env.compute_gui_username
  compute_ssh_keys                = local.env.compute_ssh_keys
  compute_subnets_cidr            = [local.env.compute_subnets_cidr]
  cos_instance_name               = local.env.cos_instance_name
  dns_custom_resolver_id          = local.env.dns_custom_resolver_id
  dns_instance_id                 = local.env.dns_instance_id
  dns_domain_names                = local.env.dns_domain_names
  enable_atracker                 = local.env.enable_atracker
  enable_bastion                  = local.env.enable_bastion
  bastion_image                   = local.env.bastion_image
  bastion_instance_profile        = local.env.bastion_instance_profile
  enable_deployer                 = local.env.enable_deployer
  deployer_image                  = local.env.deployer_image
  deployer_instance_profile       = local.env.deployer_instance_profile
  enable_cos_integration          = local.env.enable_cos_integration
  enable_vpc_flow_logs            = local.env.enable_vpc_flow_logs
  enable_vpn                      = local.env.enable_vpn
  hpcs_instance_name              = local.env.hpcs_instance_name
  key_management                  = local.env.key_management
  client_instances                = local.env.client_instances
  client_ssh_keys                 = local.env.client_ssh_keys
  client_subnets_cidr             = [local.env.client_subnets_cidr]
  network_cidr                    = local.env.network_cidr
  placement_strategy              = local.env.placement_strategy
  protocol_instances              = local.env.protocol_instances
  protocol_subnets_cidr           = [local.env.protocol_subnets_cidr]
  static_compute_instances        = local.env.compute_instances
  storage_gui_password            = local.env.storage_gui_password
  storage_gui_username            = local.env.storage_gui_username
  storage_instances               = local.env.storage_instances
  storage_ssh_keys                = local.env.storage_ssh_keys
  storage_subnets_cidr            = [local.env.storage_subnets_cidr]
  vpc                             = local.env.vpc
  vpn_peer_address                = local.env.vpn_peer_address
  vpn_peer_cidr                   = local.env.vpn_peer_cidr
  vpn_preshared_key               = local.env.vpn_preshared_key
  file_shares                     = local.env.file_shares
  enable_ldap                     = local.env.enable_ldap
  ldap_basedns                    = local.env.ldap_basedns
  ldap_vsi_profile                = local.env.ldap_vsi_profile
  ldap_admin_password             = local.env.ldap_admin_password
  ldap_user_name                  = local.env.ldap_user_name
  ldap_user_password              = local.env.ldap_user_password
  ldap_server                     = local.env.ldap_server
  ldap_server_cert                = local.env.ldap_server_cert
  ldap_vsi_osimage_name           = local.env.ldap_vsi_osimage_name
  afm_cos_config                  = local.env.afm_cos_config
  afm_instances                   = local.env.afm_instances
  scale_encryption_enabled        = local.env.scale_encryption_enabled
  scale_encryption_type           = local.env.scale_encryption_type
  scale_encryption_admin_password = local.env.scale_encryption_admin_password
  gklm_instances                  = local.env.gklm_instances
  gklm_instance_key_pair          = local.env.gklm_instance_key_pair

}
